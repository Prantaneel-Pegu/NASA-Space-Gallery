import{r as c,h as i,k as h,c as m,i as x,j as e}from"./main-CgJZUh7x.js";function u(){const[r,s]=c.useState(i),[l,p]=c.useState(!1),t={netError:"NET_ERR",reqLimitExceeded:"REQ_LIM_EXCEED",generalError:"Error"},d={netError:"Sorry, a network error occurred.",reqLimitExceeded:"Too many requests, try again after 1 hour.",generalError:"Sorry, an unexpected error occurred.",miscError:""};return h().then(o=>{const n=m(o),a=Object.keys(t).find(E=>t[E]===n.error);a&&(n.error=d[a]),x(n,r)||s(n),p(!0)}).catch(o=>{d.miscError=`Unexpected error occured of type '${o.name}'.`,o instanceof Error&&o.message===t.netError?(r.error!==d.netError&&s({...i,error:d.netError}),console.warn(`Encountered a network error. 
Error message: ${o.message||"none"}`)):o instanceof Error&&o.message===t.reqLimitExceeded?(r.error!==d.reqLimitExceeded&&s({...i,error:d.reqLimitExceeded}),console.warn(`Too many requests. 
Error message: ${o.message||"none"}`)):o instanceof Error&&o.message===t.generalError?(r.error!==d.generalError&&s({...i,error:d.generalError}),console.warn(`Encountered an Error. 
Error message: ${o.message||"none"}`)):(r.error!==o.message&&r.error!==d.miscError&&!Object.values(d).includes(r.error)&&s({...i,error:o.message||d.miscError}),console.warn(`Encountered ${o.name}.`))}),r.error?e.jsx("div",{id:"Potd",children:e.jsx("h1",{id:"potd-error",children:r.error})}):l?e.jsxs("div",{id:"Potd",children:[e.jsx("h1",{id:"potd-heading",children:"Picture of the Day"}),e.jsx("br",{}),e.jsx("p",{id:"potd-date",children:r.date}),e.jsxs("div",{id:"potd-main",children:[e.jsxs("figure",{id:"potd-figure",children:[e.jsx("img",{id:"potd-img",src:r.url,alt:r.title}),r.copyright?e.jsxs("figcaption",{id:"potd-copyright",children:["Image credit: ",r.copyright]}):null]}),e.jsxs("div",{id:"potd-data",children:[e.jsx("p",{id:"potd-title",children:r.title}),e.jsx("p",{id:"potd-description",children:r.description}),e.jsxs("code",{id:"potd-img-address",children:[e.jsx("p",{id:"potd-address-heading",children:"Image address:"}),r.hdUrl?e.jsx("a",{href:r.hdUrl,className:"potd-img-link",children:e.jsx("p",{children:r.hdUrl})}):e.jsx("p",{children:"Not provided."})]}),e.jsx("a",{id:"potd-download-link",href:r.hdUrl,download:!0,children:e.jsx("p",{id:"potd-download-text",children:"Download Image"})})]})]})]}):e.jsx("div",{id:"Potd",children:e.jsx("div",{className:"loader"})})}export{u as default};
