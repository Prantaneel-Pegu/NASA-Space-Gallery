import{r as c,h as t,k as p,c as m,i as g,j as e}from"./main-ByG57hRm.js";function u(){const[r,d]=c.useState(t),[l,E]=c.useState(!1),i={netError:"NET_ERR",reqLimitExceeded:"REQ_LIM_EXCEED",generalError:"Error"},s={netError:"Sorry, a network error occurred.",reqLimitExceeded:"Too many requests, try again after 1 hour.",generalError:"Sorry, an unexpected error occurred.",miscError:""};return p().then(o=>{const n=m(o),a=Object.keys(i).find(h=>i[h]===n.error);a&&(n.error=s[a]),g(n,r)||d(n),E(!0)}).catch(o=>{s.miscError=`Unexpected error occured of type '${o.name}'.`,o instanceof Error&&o.message===i.netError?(r.error!==s.netError&&d({...t,error:s.netError}),console.warn(`Encountered a network error. 
Error message: ${o.message||"none"}`)):o instanceof Error&&o.message===i.reqLimitExceeded?(r.error!==s.reqLimitExceeded&&d({...t,error:s.reqLimitExceeded}),console.warn(`Too many requests. 
Error message: ${o.message||"none"}`)):o instanceof Error&&o.message===i.generalError?(r.error!==s.generalError&&d({...t,error:s.generalError}),console.warn(`Encountered an Error. 
Error message: ${o.message||"none"}`)):(r.error!==o.message&&r.error!==s.miscError&&!Object.values(s).includes(r.error)&&d({...t,error:o.message||s.miscError}),console.warn(`Encountered ${o.name}.`))}),r.error?e.jsx("div",{id:"Potd",children:e.jsx("h1",{id:"potd-error",children:r.error})}):l?e.jsxs("div",{id:"Potd",children:[e.jsx("h1",{id:"potd-heading",children:"Picture of the Day"}),e.jsx("br",{}),e.jsx("p",{id:"potd-date",children:r.date}),e.jsxs("div",{id:"potd-main",children:[e.jsxs("figure",{id:"potd-figure",children:[e.jsx("img",{id:"potd-img",src:r.url,alt:r.title}),r.copyright?e.jsxs("figcaption",{id:"potd-copyright",children:["Image credit: ",r.copyright]}):null]}),e.jsxs("div",{id:"potd-data",children:[e.jsx("p",{id:"potd-title",children:r.title}),e.jsx("p",{id:"potd-description",children:r.description}),e.jsxs("code",{id:"potd-img-address",children:[e.jsx("p",{id:"potd-address-heading",children:"Image address:"}),r.hdUrl?e.jsx("a",{href:r.hdUrl,className:"potd-img-link",children:r.hdUrl}):e.jsx("p",{children:"Not applicable."})]}),e.jsx("a",{id:"potd-download-link",href:r.hdUrl,download:!0,children:e.jsx("h2",{children:"Download Image"})})]})]})]}):e.jsx("div",{id:"Potd",children:e.jsx("div",{className:"loader"})})}export{u as default};
